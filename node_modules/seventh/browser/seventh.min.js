(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.Promise7th=e()}})(function(){var e,t,n;return function(){function e(t,n,r){function i(o,l){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(s)return s(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return i(n||e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";const r=e("./seventh.js");function i(e,t=4){this.jobRunner=e;this.jobs=new Map;this.pendingJobs=new Map;this.runningJobs=new Map;this.errorJobs=new Map;this.jobsDone=new Map;this.concurrency=+t||1;this.isQueueRunning=true;this.isLoopRunning=false;this.canLoopAgain=false;this.ready=r.resolved;this.startTime=null;this.endTime=null;this.drained=r.resolved;this.idle=r.resolved}r.Queue=i;function s(e,t=null,n=undefined){this.id=e;this.dependencies=t===null?null:[...t];this.data=n===undefined?e:n;this.error=null;this.startTime=null;this.endTime=null}i.Job=s;i.prototype.setConcurrency=function(e){this.concurrency=+e||1};i.prototype.stop=i.prototype.pause=function(){this.isQueueRunning=false};i.prototype.has=function(e){return this.jobs.has(e)};i.prototype.add=i.prototype.addJob=function(e,t,n=null){if(this.jobs.has(e)){return false}var i=new s(e,n,t);this.jobs.set(e,i);this.pendingJobs.set(e,i);this.canLoopAgain=true;if(this.isQueueRunning&&!this.isLoopRunning){this.run()}if(this.drained.isSettled()){this.drained=new r}return i};i.prototype.addBatch=i.prototype.addJobBatch=function(e){var t,n;for(t of e){if(this.jobs.has(t)){return false}n=new s(t);this.jobs.set(t,n);this.pendingJobs.set(t,n)}this.canLoopAgain=true;if(this.isQueueRunning&&!this.isLoopRunning){this.run()}if(this.drained.isSettled()){this.drained=new r}};i.prototype.run=i.prototype.resume=async function(){var e;this.isQueueRunning=true;if(this.isLoopRunning){return}this.isLoopRunning=true;if(!this.startTime){this.startTime=Date.now()}do{this.canLoopAgain=false;for(e of this.pendingJobs.values()){if(e.dependencies&&e.dependencies.some(e=>!this.jobsDone.has(e))){continue}if(this.idle.isSettled()){this.idle=new r}this.canLoopAgain=true;await this.ready;if(!this.isQueueRunning){this.finishRun();return}this.runJob(e)}}while(this.canLoopAgain);this.finishRun()};i.prototype.finishRun=function(){this.isLoopRunning=false;if(!this.pendingJobs.size){this.drained.resolve()}if(!this.runningJobs.size){this.endTime=Date.now();this.idle.resolve()}};i.prototype.runJob=async function(e){this.pendingJobs.delete(e.id);this.runningJobs.set(e.id,e);if(this.runningJobs.size>=this.concurrency){this.ready=new r}try{e.startTime=Date.now();await this.jobRunner(e.data);e.endTime=Date.now();this.jobsDone.set(e.id,e);this.canLoopAgain=true}catch(t){e.endTime=Date.now();e.error=t;this.errorJobs.set(e.id,e)}this.runningJobs.delete(e.id);if(this.runningJobs.size<this.concurrency){this.ready.resolve()}if(!this.isLoopRunning){if(this.isQueueRunning&&this.pendingJobs.size){this.run()}else{this.finishRun()}}};i.prototype.getJobTimes=function(){var e,t={};for(e of this.jobsDone.values()){t[e.id]=e.endTime-e.startTime}return t};i.prototype.getStats=function(){var e,t=0,n={pending:this.pendingJobs.size,running:this.runningJobs.size,failed:this.errorJobs.size,done:this.jobsDone.size,averageJobTime:null,queueTime:null};if(this.jobsDone.size){for(e of this.jobsDone.values()){t+=e.endTime-e.startTime}n.averageJobTime=t/this.jobsDone.size}if(this.endTime){n.queueTime=this.endTime-this.startTime}return n}},{"./seventh.js":8}],2:[function(e,t,n){"use strict";const r=e("./seventh.js");r.promisifyNodeApi=((e,t,n,i,s)=>{var o;t=t||"Async";n=n||"AsyncAll";i=i||(e=>e[0]!=="_"&&!e.endsWith("Sync"));if(s){o=[];for(let t in e){if(typeof e[t]==="function"){o.push(t)}}}else{o=Object.keys(e)}o.filter(t=>{if(typeof e[t]!=="function"){return false}for(let n in e[t].prototype){return false}return i(t,e)}).forEach(i=>{const s=i+t;const o=i+n;if(!e[s]){e[s]=r.promisify(e[i],e)}if(!e[o]){e[o]=r.promisifyAll(e[i],e)}})});r.promisifyAnyNodeApi=((e,t,n,i)=>{r.promisifyNodeApi(e,t,n,i,true)})},{"./seventh.js":8}],3:[function(e,t,n){"use strict";const r=e("./seventh.js");const i={};function s(){}r.all=(e=>{var t=-1,n=false,i=0,s=Infinity,o,l=[],u=new r;for(o of e){if(n){break}t++;(()=>{const e=t;r.resolve(o).then(t=>{if(n){return}l[e]=t;i++;if(i>=s){n=true;u._resolveValue(l)}},e=>{if(n){return}n=true;u.reject(e)})})()}s=t+1;if(!s){u._resolveValue(l)}return u});r._allArray=(e=>{var t=e.length;if(!t){r._resolveValue([])}var n,i={settled:false,count:0,length:t,values:[],allPromise:new r};for(n=0;!i.settled&&n<t;n++){r._allArrayOne(e[n],n,i)}return i.allPromise});r._allArrayOne=((e,t,n)=>{r._bareThen(e,e=>{if(n.settled){return}n.values[t]=e;n.count++;if(n.count>=n.length){n.settled=true;n.allPromise._resolveValue(n.values)}},e=>{if(n.settled){return}n.settled=true;n.allPromise.reject(e)})});r.every=r.map=((e,t)=>{var n=-1,i=false,s=0,o=Infinity,l,u=[],a=new r;for(l of e){if(i){break}n++;(()=>{const e=n;r.resolve(l).then(n=>{if(i){return}return t(n,e)}).then(t=>{if(i){return}u[e]=t;s++;if(s>=o){i=true;a._resolveValue(u)}},e=>{if(i){return}i=true;a.reject(e)})})()}o=n+1;if(!o){a._resolveValue(u)}return a});r.any=(e=>{var t=-1,n=false,i=0,s=Infinity,o,l=[],u=new r;for(o of e){if(n){break}t++;(()=>{const e=t;r.resolve(o).then(e=>{if(n){return}n=true;u._resolveValue(e)},t=>{if(n){return}l[e]=t;i++;if(i>=s){n=true;u.reject(l)}})})()}s=t+1;if(!s){u.reject(new RangeError("Promise.any(): empty array"))}return u});r.some=((e,t)=>{var n=-1,i=false,s=0,o=Infinity,l,u=[],a=new r;for(l of e){if(i){break}n++;(()=>{const e=n;r.resolve(l).then(n=>{if(i){return}return t(n,e)}).then(e=>{if(i){return}i=true;a._resolveValue(e)},t=>{if(i){return}u[e]=t;s++;if(s>=o){i=true;a.reject(u)}})})()}o=n+1;if(!o){a.reject(new RangeError("Promise.any(): empty array"))}return a});r.filter=((e,t)=>{var n=-1,s=false,o=0,l=Infinity,u,a=[],f=new r;for(u of e){if(s){break}n++;(()=>{const e=n;r.resolve(u).then(n=>{if(s){return}a[e]=n;return t(n,e)}).then(t=>{if(s){return}o++;if(!t){a[e]=i}if(o>=l){s=true;a=a.filter(e=>e!==i);f._resolveValue(a)}},e=>{if(s){return}s=true;f.reject(e)})})()}l=n+1;if(!l){f._resolveValue(a)}else if(o>=l){s=true;a=a.filter(e=>e!==i);f._resolveValue(a)}return f});r.foreach=r.forEach=function(e,t,n){var i=-1,o=arguments.length>=3,l=e[Symbol.iterator](),u=new r,a=r.resolve(n);if(r.warnUnhandledRejection){r._handleAll(e)}var f=()=>{a.then(e=>{let{value:n,done:s}=l.next();i++;if(s){u.resolve(e)}else{a=r.resolve(n).then(o?n=>t(e,n,i):e=>t(e,i));f()}},e=>{u.reject(e);for(;;){let{value:e,done:t}=l.next();if(t){break}if(r.isThenable(e)){e.then(s,s)}}})};f();return u};r.reduce=((e,t,n)=>{return r.forEach(e,t,n)});r.mapObject=((e,t)=>{var n=false,i=0,s,o,l=Object.keys(e),u=l.length,a,f={},c=new r;for(s=0;!n&&s<u;s++){o=l[s];a=e[o];(()=>{const e=o;r.resolve(a).then(r=>{if(n){return}return t(r,e)}).then(t=>{if(n){return}f[e]=t;i++;if(i>=u){n=true;c._resolveValue(f)}},e=>{if(n){return}n=true;c.reject(e)})})()}if(!u){c._resolveValue(f)}return c});r.concurrent=((e,t,n)=>{var i=-1,s=false,o=0,l=0,u=Infinity,a,f=false,c=[],h=t[Symbol.iterator](),d=new r;if(r.warnUnhandledRejection){r._handleAll(t)}e=+e||1;const p=()=>{while(!f&&o<e){({value:a,done:f}=h.next());if(f){u=i+1;if(l>=u){s=true;d._resolveValue(c);return}break}if(s){break}i++;(()=>{const t=i;o++;r.resolve(a).then(e=>{if(s){return}return n(e,t)}).then(n=>{if(s){return}c[t]=n;l++;o--;if(l>=u){s=true;d._resolveValue(c);return}if(o<e){p();return}},e=>{if(s){return}s=true;d.reject(e)})})()}};p();if(i<0){d._resolveValue(c)}return d});r.race=(e=>{var t=false,n,i=new r;for(n of e){if(t){break}r.resolve(n).then(e=>{if(t){return}t=true;i._resolveValue(e)},e=>{if(t){return}t=true;i.reject(e)})}return i})},{"./seventh.js":8}],4:[function(e,t,n){(function(n,r,i){"use strict";const s=r.Promise;var o;if(!n.browser){o=n.nextTick}else{e("setimmediate");o=i}function l(e){this.fn=e;this._then=l._dormantThen;this.value=null;this.thenHandlers=null;this.handledRejection=null;if(this.fn){this._exec()}}t.exports=l;l.Native=s;l.warnUnhandledRejection=true;l.prototype._exec=function(){this._then=l._pendingThen;try{this.fn(e=>{this.resolve(e)},e=>{this.reject(e)})}catch(e){this.reject(e)}};l.prototype.resolve=l.prototype.fulfill=function(e){if(this._then.settled){return this}if(l.isThenable(e)){this._execThenPromise(e);return this}return this._resolveValue(e)};l.prototype._resolveValue=function(e){this._then=l._fulfilledThen;this.value=e;if(this.thenHandlers&&this.thenHandlers.length){this._execFulfillHandlers()}return this};l.prototype._execThenPromise=function(e){try{e.then(e=>{this.resolve(e)},e=>{this.reject(e)})}catch(e){this.reject(e)}};l.prototype.reject=function(e){if(this._then.settled){return this}this._then=l._rejectedThen;this.value=e;if(this.thenHandlers&&this.thenHandlers.length){this._execRejectionHandlers()}else if(l.warnUnhandledRejection&&!this.handledRejection){this._unhandledRejection()}return this};l.prototype._execFulfillHandlers=function(){var e,t=this.thenHandlers.length;for(e=0;e<t;e+=3){if(this.thenHandlers[e+1]){this._execOneFulfillHandler(this.thenHandlers[e],this.thenHandlers[e+1])}else{this.thenHandlers[e].resolve(this.value)}}};l.prototype._execOneFulfillHandler=function(e,t){try{e.resolve(t(this.value))}catch(t){e.reject(t)}};l.prototype._execRejectionHandlers=function(){var e,t=this.thenHandlers.length;for(e=0;e<t;e+=3){if(this.thenHandlers[e+2]){this._execOneRejectHandler(this.thenHandlers[e],this.thenHandlers[e+2])}else{this.thenHandlers[e].reject(this.value)}}};l.prototype._execOneRejectHandler=function(e,t){try{e.resolve(t(this.value))}catch(t){e.reject(t)}};l.prototype.resolveTimeout=l.prototype.fulfillTimeout=function(e,t){setTimeout(()=>this.resolve(t),e)};l.prototype.rejectTimeout=function(e,t){setTimeout(()=>this.reject(t),e)};l._dormantThen=function(e,t){if(this.fn){this._exec();return this._then(e,t)}var n=new l;if(!this.thenHandlers){this.thenHandlers=[n,e,t]}else{this.thenHandlers[this.thenHandlers.length]=n;this.thenHandlers[this.thenHandlers.length]=e;this.thenHandlers[this.thenHandlers.length]=t}return n};l._dormantThen.settled=false;l._pendingThen=function(e,t){var n=new l;if(!this.thenHandlers){this.thenHandlers=[n,e,t]}else{this.thenHandlers[this.thenHandlers.length]=n;this.thenHandlers[this.thenHandlers.length]=e;this.thenHandlers[this.thenHandlers.length]=t}return n};l._pendingThen.settled=false;l._fulfilledThen=function(e){if(!e){return this}var t=new l;o(()=>{try{t.resolve(e(this.value))}catch(e){t.reject(e)}});return t};l._fulfilledThen.settled=true;l._rejectedThen=function(e,t){if(!t){return this}this.handledRejection=true;var n=new l;o(()=>{try{n.resolve(t(this.value))}catch(e){n.reject(e)}});return n};l._rejectedThen.settled=true;l.prototype.then=function(e,t){return this._then(e,t)};l.prototype.catch=function(e=(()=>undefined)){return this._then(undefined,e)};l.prototype.finally=function(e){return this._then(e,e)};l.prototype.tap=l.prototype.tapThen=function(e){this._then(e,undefined);return this};l.prototype.tapCatch=function(e){this._then(undefined,e);return this};l.prototype.tapFinally=function(e){this._then(e,e);return this};l.prototype.fatal=function(){this._then(undefined,e=>{o(()=>{throw e})})};l.prototype.done=function(e,t){this._then(e,t).fatal();return this};l.prototype.callback=function(e){this._then(t=>{e(undefined,t)},t=>{e(t)}).fatal();return this};l.prototype.callbackAll=function(e){this._then(t=>{if(Array.isArray(t)){e(undefined,...t)}else{e(undefined,t)}},t=>{e(t)}).fatal();return this};l.callback=function(e){return new l((t,n)=>{e((e,r)=>{if(e){n(e)}else{t(r)}})})};l.callbackAll=function(e){return new l((t,n)=>{e((e,...r)=>{if(e){n(e)}else{t(r)}})})};l.prototype.toPromise=l.prototype.propagate=function(e){this._then(t=>{e.resolve(t)},t=>{e.reject(t)});return this};l.propagate=function(e,t){e.then(e=>{t.resolve(e)},e=>{t.reject(e)});return e};l.finally=function(e,t){return e.then(t,t)};l.resolve=l.fulfill=function(e){if(l.isThenable(e)){return l.fromThenable(e)}return l._resolveValue(e)};l._resolveValue=function(e){var t=new l;t._then=l._fulfilledThen;t.value=e;return t};l.reject=function(e){var t=new l;t._then=l._rejectedThen;t.value=e;return t};l.resolveTimeout=l.fulfillTimeout=function(e,t){return new l(n=>setTimeout(()=>n(t),e))};l.rejectTimeout=function(e,t){return new l((n,r)=>setTimeout(()=>r(t),e))};l.resolveNextTick=l.fulfillNextTick=function(e){return new l(t=>o(()=>t(e)))};l.rejectNextTick=function(e){return new l((t,n)=>o(()=>n(e)))};l.dormant=function(e){var t=new l;t.fn=e;return t};l.try=function(e){try{return l.resolve(e())}catch(e){return l.reject(e)}};l.isThenable=function(e){return e&&typeof e==="object"&&typeof e.then==="function"};l.fromThenable=function(e){if(e instanceof l){return e}return new l((t,n)=>{e.then(e=>{t(e)},e=>{n(e)})})};l._bareThen=function(e,t,n){if(e&&typeof e==="object"){if(e instanceof l){if(e._then===l._fulfilledThen){t(e.value)}else if(e._then===l._rejectedThen){n(e.value)}else{e._then(t,n)}}else if(typeof e.then==="function"){e.then(t,n)}else{t(e)}}else{t(e)}};l._handleAll=function(e){var t;for(t of e){if(l.isThenable(t)){t.handledRejection=true}}};l.prototype._unhandledRejection=function(){this.handledRejection=false;const e=e=>setTimeout(e,0);if(this.value instanceof Error){e(()=>{if(this.handledRejection===false){this.value.message="Unhandled promise rejection: "+this.value.message;console.error(this.value)}})}else{let t=new Error("Unhandled promise rejection");e(()=>{if(this.handledRejection===false){console.error(t);console.error("Rejection reason:",this.value)}})}};l.prototype.isSettled=function(){return this._then.settled};l.prototype.getStatus=function(){switch(this._then){case l._dormantThen:return"dormant";case l._pendingThen:return"pending";case l._fulfilledThen:return"fulfilled";case l._rejectedThen:return"rejected"}};l.prototype.inspect=function(){switch(this._then){case l._dormantThen:return"Promise { <DORMANT> }";case l._pendingThen:return"Promise { <PENDING> }";case l._fulfilledThen:return"Promise { <FULFILLED> "+this.value+" }";case l._rejectedThen:return"Promise { <REJECTED> "+this.value+" }"}};l.resolved=l.dummy=l.resolve();if(n.browser){l.prototype.resolveAtAnimationFrame=function(e){window.requestAnimationFrame(()=>this.resolve(e))};l.prototype.rejectAtAnimationFrame=function(e){window.requestAnimationFrame(()=>this.reject(e))};l.resolveAtAnimationFrame=function(e){return new l(t=>window.requestAnimationFrame(()=>t(e)))};l.rejectAtAnimationFrame=function(e){return new l((t,n)=>window.requestAnimationFrame(()=>n(e)))}}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("timers").setImmediate)},{_process:11,setimmediate:10,timers:12}],5:[function(e,t,n){"use strict";const r=e("./seventh.js");r.promisifyAll=((e,t)=>{if(t){return(...n)=>{return new r((r,i)=>{e.call(t,...n,(e,...t)=>{if(e){if(t.length&&e instanceof Error){e.args=t}i(e)}else{r(t)}})})}}return function(...t){return new r((n,r)=>{e.call(this,...t,(e,...t)=>{if(e){if(t.length&&e instanceof Error){e.args=t}r(e)}else{n(t)}})})}});r.promisify=((e,t)=>{if(t){return(...n)=>{return new r((r,i)=>{e.call(t,...n,(e,t)=>{if(e){if(t!==undefined&&e instanceof Error){e.arg=t}i(e)}else{r(t)}})})}}return function(...t){return new r((n,r)=>{e.call(this,...t,(e,t)=>{if(e){if(t!==undefined&&e instanceof Error){e.arg=t}r(e)}else{n(t)}})})}});r.returnValueInterceptor=((e,t,n)=>{return function(...r){var i=t.call(n||this,...r);e(i);return i}});r.once=((e,t)=>{var n=false;var r;return function(...i){if(!n){n=true;r=e.call(t||this,...i)}return r}});r.serialize=((e,t)=>{var n=new r.resolve;return function(...i){var s=new r;n.finally(()=>{r.propagate(e.call(t||this,...i),s)});n=s;return s}});r.debounce=((e,t)=>{var n=null;const i=()=>{n=null};return function(...s){if(n){return n}n=e.call(t||this,...s);r.finally(n,i);return n}});r.debounceDelay=((e,t,n)=>{var i=null;const s=()=>{setTimeout(()=>i=null,e)};return function(...e){if(i){return i}i=t.call(n||this,...e);r.finally(i,s);return i}});r.debounceUpdate=((e,t)=>{var n=null;var i=null;var s=null;const o=()=>{var t,l;n=null;if(i){t=i;i=null;l=s;s=null;n=e.call(...t);r.propagate(n,l);r.finally(n,o);return n}};return function(...l){var u=t||this;if(n){if(!s){s=new r}i=[u,...l];return s}n=e.call(u,...l);r.finally(n,o);return n}});r.NO_DELAY={};r.BATCH_NO_DELAY={};r.debounceSync=((e,t)=>{var n=new Map;const i=e=>{var t=n.get(e);if(!t){t={inProgress:null,inProgressIsFull:null,last:null,lastTime:null,lastFullSync:null,lastFullSyncTime:null,nextFullSyncPromise:null,nextFullSyncWith:null,noDelayBatches:new Set};n.set(e,t)}return t};const s=(e,n)=>{var i,o,l,u=new Date;e.inProgress=null;if(n>=2){e.lastFullSyncTime=e.lastTime=u}else if(n>=1){e.lastTime=u}if(e.nextFullSyncWith){if(t.delay&&e.lastFullSyncTime&&(i=u-e.lastFullSyncTime-t.delay)<0){e.inProgress=r.resolveTimeout(-i+1);e.inProgress.finally(()=>s(e,0));return e.nextFullSyncPromise}o=e.nextFullSyncWith;e.nextFullSyncWith=null;l=e.nextFullSyncPromise;e.nextFullSyncPromise=null;e.lastFullSync=e.last=e.inProgress=t.fn.call(...o);r.propagate(e.inProgress,l);r.finally(e.inProgress,()=>s(e,2));return e.inProgress}};const o=function(t,...n){var o=false,l=e.thisBinding||this,u=i(t);if(n[0]===r.NO_DELAY){o=true;n.shift()}else if(n[0]===r.BATCH_NO_DELAY){n.shift();let e=n.shift();if(!u.noDelayBatches.has(e)){u.noDelayBatches.add(e);o=true}}if(u.inProgress){return u.inProgress}if(!o&&e.delay&&u.lastTime&&new Date-u.lastTime<e.delay){if(typeof e.onDebounce==="function"){e.onDebounce(t,...n)}return u.last}u.last=u.inProgress=e.fn.call(l,t,...n);u.inProgressIsFull=false;r.finally(u.inProgress,()=>s(u,1));return u.inProgress};const l=function(e,...n){var o,l=false,u=t.thisBinding||this,a=i(e);if(n[0]===r.NO_DELAY){l=true;n.shift()}else if(n[0]===r.BATCH_NO_DELAY){n.shift();let e=n.shift();if(!a.noDelayBatches.has(e)){a.noDelayBatches.add(e);l=true}}if(!a.inProgress&&!l&&t.delay&&a.lastFullSyncTime&&(o=new Date-a.lastFullSyncTime-t.delay)<0){a.inProgress=r.resolveTimeout(-o+1);r.finally(a.inProgress,()=>s(a,0))}if(a.inProgress){if(!a.nextFullSyncPromise){a.nextFullSyncPromise=new r}a.nextFullSyncWith=[u,e,...n];return a.nextFullSyncPromise}a.lastFullSync=a.last=a.inProgress=t.fn.call(u,e,...n);r.finally(a.inProgress,()=>s(a,2));return a.inProgress};return[o,l]});r.timeout=((e,t,n)=>{return function(...r){var i=t.call(n||this,...r);setTimeout(()=>i.reject(new Error("Timeout")),e);return i}});r.variableTimeout=((e,t)=>{return function(n,...r){var i=e.call(t||this,...r);setTimeout(()=>i.reject(new Error("Timeout")),n);return i}})},{"./seventh.js":8}],6:[function(e,t,n){(function(t){"use strict";const n=e("./seventh.js");var r=false;n.asyncExit=function(e,i){if(r){return}r=true;var s=t.listeners("asyncExit");if(!s.length){t.exit(e);return}if(i===undefined){i=1e3}const o=t=>{if(t.length<3){t(e,i);return n.dummy}return new n(n=>{t(e,i,()=>{n()})})};n.map(s,o).finally(()=>t.exit(e));setTimeout(()=>t.exit(e),i)};n.resolveSafeTimeout=function(e,t){return new n(n=>{setTimeout(()=>{setTimeout(()=>{setTimeout(()=>{setTimeout(()=>n(t),0)},e/2)},e/2)},0)})}}).call(this,e("_process"))},{"./seventh.js":8,_process:11}],7:[function(e,t,n){"use strict";const r=e("./seventh.js");r.parasite=(()=>{var e=["tap","tapCatch","finally","fatal","done","callback","callbackAll"];e.forEach(e=>r.Native.prototype[e]=r.prototype[e]);r.Native.prototype._then=r.Native.prototype.then})},{"./seventh.js":8}],8:[function(e,t,n){"use strict";const r=e("./core.js");t.exports=r;e("./batch.js");e("./wrapper.js");e("./decorators.js");e("./Queue.js");e("./api.js");e("./parasite.js");e("./misc.js")},{"./Queue.js":1,"./api.js":2,"./batch.js":3,"./core.js":4,"./decorators.js":5,"./misc.js":6,"./parasite.js":7,"./wrapper.js":9}],9:[function(e,t,n){"use strict";const r=e("./seventh.js");r.timeLimit=((e,t)=>{return new r((n,i)=>{if(typeof t==="function"){t=t()}r.resolve(t).then(n,i);setTimeout(()=>i(new Error("Timeout")),e)})});r.retry=((e,t)=>{var n=e.retries||1,i=e.coolDown||0,s=e.raiseFactor||1,o=e.maxCoolDown||Infinity,l=e.timeout||0,u=e.catch||null;const a=()=>{return(l?r.timeLimit(l,t):t()).catch(e=>{if(!n--){throw e}var t=i;i=Math.min(i*s,o);if(u){return r.resolve(u(e)).then(()=>r.resolveTimeout(t).then(a))}return r.resolveTimeout(t).then(a)})};return a()});r.onceEvent=((e,t)=>{return new r(n=>e.once(t,n))});r.onceEventAll=((e,t)=>{return new r(n=>e.once(t,(...e)=>n(e)))});r.onceEventOrError=((e,t,n,i=false)=>{return new r((r,s)=>{var o;var l=(...t)=>{e.removeListener("error",u);if(o){for(let t in o){e.removeListener(t,o[t])}}r(i?t:t[0])};var u=n=>{e.removeListener(t,l);if(o){for(let t in o){e.removeListener(t,o[t])}}s(n)};e.once(t,l);e.once("error",u);if(n){if(!Array.isArray(n)){n=[n]}o={};n.forEach(n=>{var r=(...r)=>{e.removeListener("error",u);e.removeListener(t,l);var i=new Error("Received an excluded event: "+n);i.event=n;i.eventArgs=r;s(i)};e.once(n,r);o[n]=r})}})});r.onceEventAllOrError=((e,t,n)=>{return r.onceEventOrError(e,t,n,true)})},{"./seventh.js":8}],10:[function(e,t,n){(function(e,t){(function(t,n){"use strict";if(t.setImmediate){return}var r=1;var i={};var s=false;var o=t.document;var l;function u(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var n=0;n<t.length;n++){t[n]=arguments[n+1]}var s={callback:e,args:t};i[r]=s;l(r);return r++}function a(e){delete i[e]}function f(e){var t=e.callback;var r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r);break}}function c(e){if(s){setTimeout(c,0,e)}else{var t=i[e];if(t){s=true;try{f(t)}finally{a(e);s=false}}}}function h(){l=function(t){e.nextTick(function(){c(t)})}}function d(){if(t.postMessage&&!t.importScripts){var e=true;var n=t.onmessage;t.onmessage=function(){e=false};t.postMessage("","*");t.onmessage=n;return e}}function p(){var e="setImmediate$"+Math.random()+"$";var n=function(n){if(n.source===t&&typeof n.data==="string"&&n.data.indexOf(e)===0){c(+n.data.slice(e.length))}};if(t.addEventListener){t.addEventListener("message",n,false)}else{t.attachEvent("onmessage",n)}l=function(n){t.postMessage(e+n,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;c(t)};l=function(t){e.port2.postMessage(t)}}function m(){var e=o.documentElement;l=function(t){var n=o.createElement("script");n.onreadystatechange=function(){c(t);n.onreadystatechange=null;e.removeChild(n);n=null};e.appendChild(n)}}function y(){l=function(e){setTimeout(c,0,e)}}var g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t;if({}.toString.call(t.process)==="[object process]"){h()}else if(d()){p()}else if(t.MessageChannel){v()}else if(o&&"onreadystatechange"in o.createElement("script")){m()}else{y()}g.setImmediate=u;g.clearImmediate=a})(typeof self==="undefined"?typeof t==="undefined"?this:t:self)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:11}],11:[function(e,t,n){var r=t.exports={};var i;var s;function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=o}}catch(e){i=o}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=l}}catch(e){s=l}})();function u(e){if(i===setTimeout){return setTimeout(e,0)}if((i===o||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function a(e){if(s===clearTimeout){return clearTimeout(e)}if((s===l||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var f=[];var c=false;var h;var d=-1;function p(){if(!c||!h){return}c=false;if(h.length){f=h.concat(f)}else{d=-1}if(f.length){v()}}function v(){if(c){return}var e=u(p);c=true;var t=f.length;while(t){h=f;f=[];while(++d<t){if(h){h[d].run()}}d=-1;t=f.length}h=null;c=false;a(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}f.push(new m(e,t));if(f.length===1&&!c){u(v)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function y(){}r.on=y;r.addListener=y;r.once=y;r.off=y;r.removeListener=y;r.removeAllListeners=y;r.emit=y;r.prependListener=y;r.prependOnceListener=y;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},{}],12:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick;var s=Function.prototype.apply;var o=Array.prototype.slice;var l={};var u=0;n.setTimeout=function(){return new a(s.call(setTimeout,window,arguments),clearTimeout)};n.setInterval=function(){return new a(s.call(setInterval,window,arguments),clearInterval)};n.clearTimeout=n.clearInterval=function(e){e.close()};function a(e,t){this._id=e;this._clearFn=t}a.prototype.unref=a.prototype.ref=function(){};a.prototype.close=function(){this._clearFn.call(window,this._id)};n.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};n.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};n.setImmediate=typeof t==="function"?t:function(e){var t=u++;var r=arguments.length<2?false:o.call(arguments,1);l[t]=true;i(function i(){if(l[t]){if(r){e.apply(null,r)}else{e.call(null)}n.clearImmediate(t)}});return t};n.clearImmediate=typeof r==="function"?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":11,timers:12}]},{},[8])(8)});